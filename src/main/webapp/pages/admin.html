<!doctype html>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
	layout:decorator="pages/commons/layout">
<!--<![endif]-->
<head>
<!-- layout 템플릿 내용 시작 (페이지 완성 후 삭제 필요) -->
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

<title th:text="#{title.tab}">ESP</title>

<meta name="viewport" content="width=device-width,initial-scale=1" />

<link rel="stylesheet" href="../static/styles/initializr-style.css"
	th:href="@{/static/styles/initializr-style.css}" />
	
<link rel="stylesheet" href="../static/styles/esp-main.css"
	th:href="@{/static/styles/esp-main.css}" />
	
<script type="text/javascript"
	src="./static/scripts/modernizr-latest.js"
	th:src="@{/static/scripts/modernizr-latest.js}"></script>
<script type="text/javascript" src="../static/scripts/esp-main.js"
	th:src="@{/static/scripts/esp-main.js}"></script>

<script type="text/javascript" src="../static/jquery/jquery-1.8.3.js"
	th:src="@{/static/jquery/jquery-1.8.3.js}"></script>
<!-- layout 템플릿 내용 끝 -->
<script type="text/javascript" th:inline="javascript">
/*<![CDATA[*/
function fn_jQueryCallAjax(_url, _method, _param){
	console.log(_url);
	var url = _url;
	var _data = {};
	jQuery.ajax( {
  		url : url,
  		type :_method,
  		data: _param,
  		async: false,
		cache: false,
  		dataType: 'json',
  		contentType: 'application/json;charset=UTF-8',
  		error: function(request, textStatus, errorThrown){
			_data = textStatus;
  		},
  		success : function(data) {
			_data = data;
  		}
 	});
	return _data;
}
window.onload = function(){
	$('.study-schedule div.tr').click(function(){
		var userId = $(this).data("id");
		$('.study-schedule input[value='+userId+']').attr('checked',true);
		console.log(fn_jQueryCallAjax('./admin/user-penalty','GET',{'uid':userId}));
	});
}
/*]]>*/
</script>
</head>
<body>
	<section id="penalty-admin" layout:fragment="main-content">
		<div class="td" style="width:150px">
			<header class="ct-bg-e44d26">
				<b>유저 이름</b>
			</header>
			<div class="study-schedule ct-box-f16529">
				<div th:each="user : ${allUserList}">
					<div class="tr" th:attr="data-id=${user.id}">  
						<div class="td"><input type="radio" th:value="${user.id}" name="radio_name"/></div>
						<div class="td indent"><label th:text="${user.name}"></label></div> 
					</div>
				</div>
			</div>
		</div>
		<div class="td" style="width:20px"></div>
		<div class="td">
			<header class="ct-bg-e44d26">
				<b>벌점 관리</b>
			</header>
			<div class="study-schedule ct-box-f16529">
				<table class="width500">
					<thead class="ct-bg-f16529">
						<tr>
							<th class="wd5">벌점이유</th>
							<th class="wd2">점수</th>
							<th class="wd2">누계</th>
							<th class="wd1"></th>
						</tr>
					</thead>
					<tbody>
						<tr class="ct-border-bottom-f16529">
							<td class="ct-padding-top"><input type="text" class="width150"/></td>
							<td class="ct-padding-top"><input type="text" class="width50"/></td>
							<td class="ct-padding-top"></td>
							<td class="ct-padding-top"><input type="button" value="추가"/></td>
						</tr>
						<tr class="ct-border-bottom-f16529" id="testId">
							<td class="ct-padding-top"><div>연락 후 불참</div></td>
							<td class="ct-padding-top">1</td>
							<td class="ct-padding-top">1</td>
							<td class="ct-padding-top"><input type="button" value="수정"/></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</section>
</body>
</html>
